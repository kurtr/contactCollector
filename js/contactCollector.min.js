!function(t,e,o){var n=function(e,o,i){this.name="Collector",this.selectors=e,this.options={Cookie_Expiry:365,Cookie:"cCollect",Always_Update:!0,Cookie_Path:"/",Obscure_Info:!0},this.elem=i,this.$elem=t(i)};n.prototype={_init:function(t){this.loadOptions(t),this.doUpdate()&&(this.getSelectors(this.selectors),this.setSelectors())},loadOptions:function(t){for(var e=Object.keys(this.options),o=0;o<e.length;o++)t.hasOwnProperty(e[o])&&t[e[o]]!=this.options[e[o]]&&(this.options[e[o]]=t[e[o]]);return!0},Elements:[],boundElements:[],getCookie:function(t){for(var e=o.cookie.split(";"),i=0;i<e.length;i++){for(var n=e[i];" "==n.charAt(0);)n=n.substring(1);if(0==n.indexOf(t+"="))return decodeURI(n.substring((t+"=").length,n.length))}return""},validMail:function(t){return patt=/^([\w-]+(?:\.[\w-]+)*)@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$/i,patt.test(t)},setCookie:function(t,e,i){var n=new Date;n.setTime(n.getTime()+24*i*60*60*1e3);var s=" max-age="+n.toUTCString();return o.cookie=t+"="+e+"; "+s+"; path="+this.options.Cookie_Path,!0},obscure:function(t){for(var e=String(t.charCodeAt(0)),o=1;o<t.length;o++)e=String(e)+"."+String(t.charCodeAt(o));return e},doUpdate:function(){return this.options.Always_Update?!0:1===this.getCookie(this.options.Cookie).split("|").length},getSelectors:function(e){var o=[];t(e).each(function(i){t(e[i]).each(function(){o.push(this)})}),this.Elements=o},setSelectors:function(){for(i=0;i<this.Elements.length;i++)this.bindSelector(this.Elements[i]);return!0},bindSelector:function(e){var o=this;return t(e).on("change",this.checkVal.bind(e,o)),this.boundElements.push(e),!0},getCookieVal:function(t){var e=this.options.Obscure_Info?String(this.obscure(t)):t;if(this.options.Always_Update){var o=String(this.getCookie(this.options.Cookie)).split("|");return o[0]+"|"+e}return String(parent.getCookie(parent.options.Cookie))+"|"+e}},n.prototype.checkVal=function(e){if(e.validMail(t(this).val())&&e.doUpdate()){var o=e.getCookieVal(t(this).val());return e.setCookie(e.options.Cookie,o,e.options.Cookie_Expiry)}return!1},t.fn.collector=function(t,e){return this.each(function(){new n(t,e,this)._init(e,this)})},e.collector=n}(jQuery,window,document);